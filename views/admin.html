<html>
<meta charset="UTF-16">
<head><script type="text/javascript" src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="js/append.js"></script>

<link rel="stylesheet" type="text/css" href="/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />

</head>
<body>
This my admin page!!
<div id="search-bar">
<input type="text" id="hashtag-to-search" /><button id="hashtag-submit">Submit</button>
</div>

<div id="tweets">

<div class="tweet"><button class="btn btn-success approve-btn">Approve</button><div class="left-image pull-left"> <img src="http://a0.twimg.com/profile_images/1320830796/SelimDizdar_normal.jpg"></div><div class="individual-tweet"><div class="user">SelimDizdar</div><div class="tweet-content">Many of our customers use Basecamp- some use #Basecamp Next and some use Basecamp Classic. http://t.co/MYitCdvT</div></div></div><div class="tweet"><button class="btn btn-success approve-btn">Approve</button><div class="left-image pull-left"> <img src="http://a0.twimg.com/profile_images/2825439005/98f8b62f3f391ca134770c99da74d4ed_normal.jpeg"></div><div class="individual-tweet"><div class="user">robzdaholicz</div><div class="tweet-content">Pijut... (@ #MoalMundur #BaseCamp) http://t.co/8PrlClX3</div></div></div></div>
</body>


<script type="text/javascript">
var socket = io.connect();

socket.on('seed-messages', function(message){
appendTweets(message);
});

socket.on('new-tweets', function(message){
appendTweets(message);
});
</script>

<script type="text/javascript">
	var currentHashtag = "";
	$("#hashtag-submit").click(function(){
	var hashtagToSearch = $("#hashtag-to-search").val();
	if(hashtagToSearch !== currentHashtag && hashtagToSearch !== ""){
	currentHashtag = hashtagToSearch;
	socket.emit('subscribe', {'hashtag':currentHashtag});
	}
	});

	$('#tweets').on('click', '.approve-btn', function(){
	var parent = $(this).parent('.tweet');
	var image = parent.find('.left-image > img').attr('src');
	var username = parent.find('.user').text();
	var tweet = parent.find('.tweet-content').text();
	socket.emit('approve', {'tweet': tweet,
	'username': username,
	'image': image});
	});
</script>

</html>
